# ğŸ“˜ Cours : CrÃ©ation d'addons pour FreeCAD
## LeÃ§on 1. PrÃ©paration de l'environnement de dÃ©veloppement

> **Objectif de la leÃ§on** : configurer tout le nÃ©cessaire pour crÃ©er, tester et dÃ©boguer des addons sans effort superflu.

---

## ğŸ”§ Ã‰tape 1. Assurez-vous que FreeCAD est installÃ©

### Exigences :
- **FreeCAD version 0.20 ou plus rÃ©cente** (mieux 1.0+)
- Fonctionne sur **Windows**, **Linux** ou **macOS**

ğŸ‘‰ Si vous n'avez pas encore FreeCAD, tÃ©lÃ©chargez-le depuis le site officiel :
ğŸ”— [https://www.freecad.org/downloads.php](https://www.freecad.org/downloads.php)

Choisissez :
- **Windows** : `.exe` (installateur) ou `.7z` (portable)
- **Linux** : AppImage ou paquet depuis le dÃ©pÃ´t
- **macOS** : `.dmg`

> ğŸ’¡ **Conseil** : pour l'apprentissage, il est prÃ©fÃ©rable d'utiliser la **version installÃ©e** (via l'installateur), car elle est plus stable et plus facile Ã  configurer.

---

## ğŸ“ Ã‰tape 2. Trouvez le dossier des addons

FreeCAD recherche les addons utilisateur dans un dossier spÃ©cial `Mod`.
Le chemin dÃ©pend de votre OS et du type d'installation.

### âœ… Comment trouver le dossier prÃ©cisÃ©ment ?

1. Lancez FreeCAD.
2. Ouvrez la **Console Python** :
   `Affichage â†’ Panneaux â†’ Console Python`
3. Entrez la commande :

```python
import FreeCAD
print(FreeCAD.getUserAppDataDir())
```

4. Appuyez sur **EntrÃ©e**.

Vous verrez un chemin, par exemple :

- **Windows (version installÃ©e)** :
  `C:\Users\VotreNom\AppData\Roaming\FreeCAD\`
- **Windows (portable)** :
  `D:\FreeCAD\data\`
- **Linux** :
  `/home/votre_nom/.local/share/FreeCAD/`
- **macOS** :
  `/Users/votre_nom/Library/Application Support/FreeCAD/`

### â• CrÃ©ez le dossier `Mod`

Ã€ l'intÃ©rieur de ce rÃ©pertoire, **il doit y avoir un dossier `Mod`**.
S'il n'existe pas, crÃ©ez-le manuellement.

Exemple pour Windows :
```
C:\Users\VotreNom\AppData\Roaming\FreeCAD\Mod\
```

> ğŸ’¡ Un moyen rapide d'ouvrir le dossier sous Windows :
> Appuyez sur **Win + R** â†’ tapez `%APPDATA%\FreeCAD` â†’ EntrÃ©e

---

## ğŸ–¥ Ã‰tape 3. Configurez un Ã©diteur de texte (facultatif, mais fortement recommandÃ©)

Bien qu'il soit possible d'Ã©crire du code dans le Bloc-notes, il est plus pratique d'utiliser un Ã©diteur avec :
- Coloration syntaxique Python
- AutocomplÃ©tion
- PossibilitÃ© d'exÃ©cuter des scripts

### ğŸ”¹ Nous recommandons : **Visual Studio Code (VS Code)**

1. TÃ©lÃ©chargez et installez : [https://code.visualstudio.com/](https://code.visualstudio.com/)
2. Installez l'extension **Python** (de Microsoft)
3. (Facultatif) Installez l'extension **FreeCAD for VS Code** â€“ elle ajoute des suggestions pour l'API FreeCAD

### ğŸ”¹ Comment ouvrir le dossier de l'addon dans VS Code ?

1. Lancez VS Code
2. `Fichier â†’ Ouvrir un dossier`
3. SÃ©lectionnez le dossier `Mod` (ou un addon individuel Ã  l'intÃ©rieur)

Vous pouvez maintenant voir la structure du projet et Ã©diter les fichiers confortablement.

---

## ğŸ›  Ã‰tape 4. Explorez les outils intÃ©grÃ©s de FreeCAD

FreeCAD contient dÃ©jÃ  tout ce dont vous avez besoin pour le dÃ©veloppement.

### 1. **Console Python**
- Menu : `Affichage â†’ Panneaux â†’ Console Python`
- Permet d'exÃ©cuter des commandes en temps rÃ©el
- Exemple : tapez `App.newDocument()` â†’ un nouveau document sera crÃ©Ã©

### 2. **Vue Rapport**
- Menu : `Affichage â†’ Panneaux â†’ Vue Rapport`
- Affiche les **erreurs**, les **avertissements**, les journaux
- **Gardez-la ouverte impÃ©rativement** lors du test de l'addon !

### 3. **Enregistreur de macros**
- Menu : `Macro â†’ Macros...`
- Bouton **Enregistrer** â€“ enregistre vos actions en code Python
- Un excellent moyen d'**apprendre l'API** de FreeCAD

> ğŸ’¡ Essayez :
> 1. Cliquez sur **Macro â†’ DÃ©marrer l'enregistrement**
> 2. CrÃ©ez une boÃ®te (`Part â†’ BoÃ®te`)
> 3. ArrÃªtez l'enregistrement
> 4. Ouvrez la macro â€“ vous verrez le code rÃ©el de crÃ©ation de l'objet !

---

## ğŸ§ª Ã‰tape 5. VÃ©rification : crÃ©ez un dossier de test

Pour vous assurer que tout fonctionne :

1. Dans le dossier `Mod`, crÃ©ez un sous-dossier :
   ```
   TestAddon
   ```
2. Ã€ l'intÃ©rieur, crÃ©ez un fichier `__init__.py` (il peut Ãªtre vide) â€“ cela indique Ã  Python que le dossier est un module.
3. RedÃ©marrez FreeCAD.
4. Ouvrez la **Vue Rapport**.

Si vous **ne voyez pas d'erreurs**, cela signifie que FreeCAD a scannÃ© le dossier `Mod` avec succÃ¨s.

> â— Si une erreur de type `ImportError` apparaÃ®t, vÃ©rifiez :
> - La correction du nom du dossier (sans espaces ni caractÃ¨res cyrilliques)
> - La prÃ©sence de `__init__.py` (pas toujours obligatoire dans les nouvelles versions, mais plus sÃ»r Ã  ajouter)

---

## ğŸ—‚ Structure du dossier de dÃ©veloppement (rÃ©sultat)

Ã€ la fin de cette leÃ§on, vous devriez avoir cette structure :

```
(dossier utilisateur FreeCAD)
â””â”€â”€ Mod/
    â””â”€â”€ TestAddon/
        â””â”€â”€ __init__.py   â† peut Ãªtre vide
```

Et vous savez :
- OÃ¹ se trouve `Mod`
- Comment ouvrir la Console Python et la Vue Rapport
- Comment utiliser l'Enregistreur de macros
- Comment configurer VS Code (facultatif)

---

## âœ… Exercice pratique

1. Trouvez le dossier `Mod` via `FreeCAD.getUserAppDataDir()`
2. CrÃ©ez un dossier `MyFirstAddon` Ã  l'intÃ©rieur de `Mod`
3. Ajoutez-y un fichier `__init__.py` vide
4. RedÃ©marrez FreeCAD
5. Assurez-vous qu'il n'y a pas d'erreurs dans la **Vue Rapport**

> ğŸ¯ **Objectif** : FreeCAD doit dÃ©marrer sans erreurs et "voir" votre dossier.

---

## â–¶ï¸ Et ensuite ?

Dans la **LeÃ§on 2**, nous crÃ©erons un **vÃ©ritable addon fonctionnel** :
- Nous ajouterons un bouton
- Nous ferons en sorte qu'il fasse quelque chose
- Nous apprendrons Ã  enregistrer des commandes et des ateliers

```