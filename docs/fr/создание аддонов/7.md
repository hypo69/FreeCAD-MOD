
# ğŸ“˜ Tutoriel : CrÃ©er des addons pour FreeCAD
## LeÃ§on 7. Publier un addon : du dossier Ã  GitHub et au gestionnaire d'addons

> **Objectif de la leÃ§on** : prÃ©parer l'addon Ã  la distribution, crÃ©er des mÃ©tadonnÃ©es et le publier sur GitHub, afin que tout utilisateur de FreeCAD puisse l'installer en un seul clic.

---

## ğŸ“¦ Partie 1. Qu'est-ce que le gestionnaire d'addons ?

Le **gestionnaire d'addons** est un outil intÃ©grÃ© Ã  FreeCAD (`Outils â†’ Gestionnaire d'addons`) qui :
- Affiche un catalogue de **plus de 300 addons officiels**
- Permet d'**installer, mettre Ã  jour et dÃ©sinstaller** des addons sans copier manuellement les fichiers
- Fonctionne avec les **dÃ©pÃ´ts GitHub**

Pour que votre addon y apparaisse, vous devez :
1. Le tÃ©lÃ©charger sur **GitHub**
2. Ajouter un fichier **`package.xml`**
3. (Optionnel) Soumettre une PR Ã  [FreeCAD-addons](https://github.com/FreeCAD/FreeCAD-addons)

---

## ğŸ—‚ Partie 2. PrÃ©parer la structure du dÃ©pÃ´t

Votre dossier doit ressembler Ã  ceci :

```
BoxBuilderAddon/                â† racine du dÃ©pÃ´t
â”œâ”€â”€ Resources/
â”‚   â””â”€â”€ icons/
â”‚       â”œâ”€â”€ box_builder.svg
â”‚       â””â”€â”€ create_box.svg
â”œâ”€â”€ InitGui.py
â”œâ”€â”€ box_builder_workbench.py
â”œâ”€â”€ package.xml                 â† OBLIGATOIRE !
â”œâ”€â”€ README.md                   â† recommandÃ©
â””â”€â”€ LICENSE                     â† obligatoire pour la publication
```

> ğŸ’¡ **Important** : le nom du dossier racine **doit correspondre** au nom de l'addon et Ãªtre le mÃªme que dans `InitGui.py`.

---

## ğŸ“„ Partie 3. CrÃ©er `package.xml`

Ce fichier dÃ©crit votre addon pour le gestionnaire d'addons.

CrÃ©ez un fichier `package.xml` Ã  la racine :

```xml
<?xml version="1.0" encoding="UTF-8" standalone="no" ?>
<package format="1" xmlns="https://wiki.freecad.org/Package_Metadata">
  <name>BoxBuilderAddon</name>
  <description>
    A simple tool to create parametric boxes with custom dimensions and GUI.
    Saves last used values between sessions.
  </description>
  <version>1.0.0</version>
  <date>2025-04-05</date>
  
  <maintainer email="your.email@example.com">Your Name</maintainer>
  
  <license file="LICENSE">LGPL-2.1-or-later</license>
  
  <url type="repository" branch="main">https://github.com/yourname/BoxBuilderAddon</url>
  <url type="bugtracker">https://github.com/yourname/BoxBuilderAddon/issues</url>
  
  <icon>Resources/icons/box_builder.svg</icon>
  
  <content>
    <workbench>BoxBuilderAddon</workbench>
  </content>
  
  <dependencies>
    <freecad>0.20</freecad>
  </dependencies>
</package>
```

### ğŸ” Champs obligatoires :
- `<name>` â€” doit correspondre au dossier
- `<version>` â€” au format `X.Y.Z`
- `<license>` â€” indiquez le fichier `LICENSE` et le type de licence
- `<url type="repository">` â€” lien vers votre GitHub
- `<icon>` â€” chemin vers l'icÃ´ne (relatif Ã  la racine)
- `<content><workbench>...</workbench></content>` â€” indique qu'il s'agit d'un atelier

> ğŸ’¡ La licence est **obligatoire**. **LGPL-2.1-or-later** est recommandÃ©e (comme FreeCAD lui-mÃªme).

---

## ğŸ“„ Partie 4. Fichier `LICENSE`

CrÃ©ez un fichier `LICENSE` avec le texte de la licence.

Exemple pour **LGPL-2.1** :
1. Allez sur : https://www.gnu.org/licenses/old-licenses/lgpl-2.1.txt
2. Copiez tout le texte
3. Collez-le dans le fichier `LICENSE`

Ou utilisez GitHub : lors de la crÃ©ation d'un dÃ©pÃ´t, vous pouvez choisir la licence automatiquement.

---

## ğŸ“ Partie 5. Fichier `README.md`

CrÃ©ez un simple `README.md` :

```markdown
# Box Builder Addon for FreeCAD

A simple tool to create parametric boxes with custom dimensions.

## Features
- GUI dialog for entering length, width, height
- Saves last used values between sessions
- Unique object naming
- Optional centering on origin

## Installation
1. Open FreeCAD
2. Go to **Tools â†’ Addon Manager**
3. Search for "BoxBuilderAddon"
4. Click **Install**

Or install manually by copying the folder to your `Mod` directory.

## Requirements
- FreeCAD 0.20 or newer
```

---

## ğŸŒ Partie 6. Publication sur GitHub

### Ã‰tapes :
1. Inscrivez-vous sur [GitHub](https://github.com/)
2. Cliquez sur **New repository**
3. Nom : `BoxBuilderAddon`
4. Initialiser **sans README** (vous l'avez dÃ©jÃ  crÃ©Ã©)
5. Cliquez sur **Create repository**
6. Suivez les instructions pour tÃ©lÃ©charger le dossier local :

```bash
git init
git add .
git commit -m "Initial release"
git branch -M main
git remote add origin https://github.com/yourname/BoxBuilderAddon.git
git push -u origin main
```

> ğŸ’¡ Remplacez `yourname` par votre nom d'utilisateur GitHub.

---

## ğŸ” Partie 7. Tester l'installation

Maintenant, tout utilisateur peut :
1. Ouvrir FreeCAD
2. Aller dans **Outils â†’ Gestionnaire d'addons**
3. Cliquer sur **VÃ©rifier les mises Ã  jour**
4. Trouver **BoxBuilderAddon** et cliquer sur **Installer**

> âš ï¸ Pour que l'addon apparaisse dans la **liste officielle**, vous devez envoyer une Pull Request Ã  :
> ğŸ”— https://github.com/FreeCAD/FreeCAD-addons

Mais mÃªme **sans cela**, les utilisateurs peuvent l'installer via un lien direct :
- Dans le gestionnaire d'addons : **Outils â†’ Gestionnaire d'addons â†’ ... â†’ Installer un addon personnalisÃ©**
- Coller l'URL : `https://github.com/yourname/BoxBuilderAddon`

---

## ğŸ§ª Exercice pratique

1. CrÃ©ez un compte GitHub (si vous n'en avez pas)
2. PrÃ©parez la structure complÃ¨te de l'addon avec `package.xml`, `LICENSE`, `README.md`
3. TÃ©lÃ©chargez le dÃ©pÃ´t sur GitHub
4. Installez votre addon via le gestionnaire d'addons sur une copie **propre** de FreeCAD (ou supprimez le dossier de `Mod` avant l'installation)

---

## âœ… RÃ©sultat

Vous savez maintenant :
- CrÃ©er des addons complets avec GUI et paramÃ¨tres
- Ajouter des icÃ´nes
- PrÃ©parer les mÃ©tadonnÃ©es
- Publier sur GitHub
- Rendre l'addon accessible au monde entier

---

## ğŸ“ Et aprÃ¨s ?

Vous avez terminÃ© tout le cours ! ğŸ‰
Vous Ãªtes maintenant un **dÃ©veloppeur d'addons FreeCAD**.

### Prochaines Ã©tapes possibles :
- Ajoutez la prise en charge du **centrage** (de l'exercice de la leÃ§on 5)
- ImplÃ©mentez la **saisie multiple** (crÃ©ation d'une grille de boÃ®tes)
- IntÃ©grez avec **PartDesign** pour crÃ©er des corps de rÃ©volution
- Ã‰crivez un addon pour **votre propre tÃ¢che** : boulons, cadres, calculs, etc.

---

## ğŸ’¬ Conclusion

FreeCAD n'est pas seulement un programme de CAO.
C'est une **plateforme de crÃ©ativitÃ© en ingÃ©nierie**, et vous dÃ©tenez maintenant la clÃ© de son extension.

Ã‰crivez des addons. Partagez-les. Changez le monde â€” un objet paramÃ©trique Ã  la fois. ğŸ› ï¸

---

Si vous avez une idÃ©e pour un **vÃ©ritable addon** â€” dÃ©crivez-la, et je vous aiderai Ã  la rÃ©aliser !