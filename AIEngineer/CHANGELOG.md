# Changelog - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Gemini v0.2.0

## üìÖ 2025-01-07

### ‚ú® –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### 1. –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–ª–∞—Å—Å GoogleGenerativeAi
- **–§–∞–π–ª:** `AIEngineer/gemini.py` (–ü–û–õ–ù–û–°–¢–¨–Æ –ü–ï–†–ï–ü–ò–°–ê–ù)
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –∫–ª–∞—Å—Å –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ hypotez
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ RAG (Retrieval-Augmented Generation)
- –ò—Å—Ç–æ—Ä–∏—è —á–∞—Ç–æ–≤ —Å –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã: `chat()`, `ask_async()`, `upload_file()`
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –º–æ–¥–µ–ª–∏
- –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ä–µ—Ç—Ä–∞—è–º–∏

#### 2. –•—Ä–∞–Ω–µ–Ω–∏–µ API-–∫–ª—é—á–∞ –≤ .env
- **–§–∞–π–ª:** `AIEngineer/utils.py` (–û–ë–ù–û–í–õ–Å–ù)
- –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏: `load_env()`, `save_to_env()`, `get_api_key()`
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: `.env` ‚Üí `QSettings` ‚Üí –ø–∞—Ä–∞–º–µ—Ç—Ä –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –∏–∑ QSettings

#### 3. –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π –¥–∏–∞–ª–æ–≥ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- **–§–∞–π–ª:** `AIEngineer/settings_dialog.py` (–û–ë–ù–û–í–õ–Å–ù)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ .env
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –∫–ª—é—á–∞ (`.env` / `QSettings`)
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ QSettings –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

#### 4. –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ Ask AI
- **–§–∞–π–ª:** `AIEngineer/commands/ask_ai.py` (–û–ë–ù–û–í–õ–Å–ù)
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `describe_image()` –≤–º–µ—Å—Ç–æ –±–∞–∑–æ–≤–æ–≥–æ `ask()`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

#### 5. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- **–§–∞–π–ª:** `AIEngineer/InitGui.py` (–û–ë–ù–û–í–õ–Å–ù)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `.env` —Ñ–∞–π–ª–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ API-–∫–ª—é—á–∞
- –ü–æ–Ω—è—Ç–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

---

## üìù –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (—Ç—Ä–µ–±—É—é—Ç –∑–∞–º–µ–Ω—ã):

```
AIEngineer/gemini.py              ‚Üê –ü–û–õ–ù–û–°–¢–¨–Æ –ü–ï–†–ï–ü–ò–°–ê–ù
```

### –í–∞–∂–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è (—Ç—Ä–µ–±—É—é—Ç –∑–∞–º–µ–Ω—ã):

```
AIEngineer/utils.py               ‚Üê –î–æ–±–∞–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ .env
AIEngineer/settings_dialog.py     ‚Üê –ü–æ–¥–¥–µ—Ä–∂–∫–∞ .env
AIEngineer/commands/ask_ai.py     ‚Üê –ò—Å–ø–æ–ª—å–∑—É–µ—Ç describe_image()
AIEngineer/InitGui.py             ‚Üê –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:

```
AIEngineer/.env.example           ‚Üê –®–∞–±–ª–æ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
MIGRATION.md                      ‚Üê –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
INTEGRATION_GUIDE.md              ‚Üê –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
QUICKSTART.md                     ‚Üê –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
CHANGELOG.md                      ‚Üê –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

---

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è —Å v0.1.0

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):

1. –ó–∞–º–µ–Ω–∏—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ —Å–ø–∏—Å–∫–∞ –≤—ã—à–µ
2. –û—Ç–∫—Ä–æ–π—Ç–µ FreeCAD
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–±–æ—á—É—é —Å—Ä–µ–¥—É **AI Engineer**
4. –û—Ç–∫—Ä–æ–π—Ç–µ **AI Settings** (‚öôÔ∏è)
5. –ù–∞–∂–º–∏—Ç–µ **OK** (–∫–ª—é—á –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –º–∏–≥—Ä–∏—Ä—É–µ—Ç –≤ .env)

### –†—É—á–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è:

1. –ù–∞–π–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –∫–ª—é—á –≤ QSettings:
   - Windows: `HKEY_CURRENT_USER\Software\FreeCAD\AIEngineer`
   - Linux/macOS: `~/.config/FreeCAD/AIEngineer.conf`

2. –°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª:
   ```bash
   # Windows
   cd %APPDATA%\FreeCAD\AIEngineer
   echo GEMINI_API_KEY=–≤–∞—à-–∫–ª—é—á > .env
   
   # Linux/macOS
   cd ~/.FreeCAD/AIEngineer
   echo "GEMINI_API_KEY=–≤–∞—à-–∫–ª—é—á" > .env
   chmod 600 .env
   ```

---

## üÜï –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã API

### GoogleGenerativeAi

#### `chat(q, chat_session_name, context)`
```python
response = await llm.chat('–ü—Ä–∏–≤–µ—Ç!', chat_session_name='my_chat')
```

#### `ask_async(q, attempts, save_dialogue, clean_response, context)`
```python
response = await llm.ask_async('–í–æ–ø—Ä–æ—Å', context=['–ö–æ–Ω—Ç–µ–∫—Å—Ç'])
```

#### `describe_image(image, mime_type, prompt)`
```python
description = llm.describe_image(Path('image.jpg'), prompt='–û–ø–∏—à–∏')
```

#### `start_new_chat_session(new_system_instruction, initial_history)`
```python
llm.start_new_chat_session(new_system_instruction='–¢—ã - —ç–∫—Å–ø–µ—Ä—Ç')
```

#### `clear_history()`
```python
llm.clear_history()
```

#### `upload_file(file, file_name)`
```python
uploaded = await llm.upload_file('document.pdf')
```

---

## üîß –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –º–µ—Ç–æ–¥–∞—Ö

### `ask()` - —Ç–µ–ø–µ—Ä—å —Å RAG

**–ë—ã–ª–æ:**
```python
response = llm.ask(q='–í–æ–ø—Ä–æ—Å', image_path='/path/to/image.jpg')
```

**–°—Ç–∞–ª–æ:**
```python
# –î–ª—è —Ç–µ–∫—Å—Ç–∞ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º
response = llm.ask('–í–æ–ø—Ä–æ—Å', context=['–ö–æ–Ω—Ç–µ–∫—Å—Ç1', '–ö–æ–Ω—Ç–µ–∫—Å—Ç2'])

# –î–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ describe_image()
response = llm.describe_image(Path('image.jpg'), prompt='–í–æ–ø—Ä–æ—Å')
```

### `__init__()` - –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

**–ë—ã–ª–æ:**
```python
llm = GoogleGenerativeAi(
    api_key='key',
    model_name='gemini-1.5-flash'
)
```

**–°—Ç–∞–ª–æ:**
```python
llm = GoogleGenerativeAi(
    api_key='key',  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ - –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∏–∑ .env
    model_name='gemini-1.5-flash',
    generation_config={'response_mime_type': 'text/plain'},
    system_instruction='–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è'
)
```

---

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

### v0.1.0 ‚Üí v0.2.0

1. **API-–∫–ª—é—á —Ç–µ—Ä—è–ª—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ FreeCAD**
   - –†–µ—à–µ–Ω–∏–µ: –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ `.env` —Ñ–∞–π–ª–µ

2. **–ù–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ —Ç–æ–∫–µ–Ω–æ–≤**
   - –†–µ—à–µ–Ω–∏–µ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ —á–∞—Ç–∞ –ø—Ä–∏ `InvalidArgument`

3. **–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –¥–ª—è RAG**
   - –†–µ—à–µ–Ω–∏–µ: –ü–∞—Ä–∞–º–µ—Ç—Ä `context` –≤–æ –≤—Å–µ—Ö –º–µ—Ç–æ–¥–∞—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –¥–∏–∞–ª–æ–≥–æ–≤**
   - –†–µ—à–µ–Ω–∏–µ: –ú–µ—Ç–æ–¥ `chat()` —Å –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

5. **–ü–ª–æ—Ö–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫**
   - –†–µ—à–µ–Ω–∏–µ: –£–º–Ω—ã–µ —Ä–µ—Ç—Ä–∞–∏ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π

6. **–ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –±–æ–ª—å—à–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**
   - –†–µ—à–µ–Ω–∏–µ: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ File API —á–µ—Ä–µ–∑ `describe_image()`

---

## ‚ö†Ô∏è –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏

### Deprecated (–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç):

#### `ask(q, image_path=...)`
```python
# DEPRECATED
response = llm.ask(q='–í–æ–ø—Ä–æ—Å', image_path='/path/image.jpg')

# –ò–°–ü–û–õ–¨–ó–£–ô–¢–ï
response = llm.describe_image(Path('image.jpg'), prompt='–í–æ–ø—Ä–æ—Å')
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

```
–§–∞–π–ª–æ–≤ –∏–∑–º–µ–Ω–µ–Ω–æ: 5
–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ: 5
–°—Ç—Ä–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–æ: ~1500
–°—Ç—Ä–æ–∫ —É–¥–∞–ª–µ–Ω–æ: ~200
–ù–æ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤: 6
Deprecated –º–µ—Ç–æ–¥–æ–≤: 0 (—Å—Ç–∞—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç)
```

---

## üîÆ –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### v0.3.0 (Q2 2025):
- [ ] GUI –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ —á–∞—Ç–æ–≤
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Claude API
- [ ] –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –¥–ª—è RAG
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –¥–∏–∞–ª–æ–≥–æ–≤ –≤ PDF

### v0.4.0 (Q3 2025):
- [ ] –ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è G-code
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å CAM
- [ ] –û–±–ª–∞—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **QUICKSTART.md** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (5 –º–∏–Ω—É—Ç)
- **MIGRATION.md** - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ .env
- **INTEGRATION_GUIDE.md** - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API

---

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- –ü—Ä–æ–µ–∫—Ç **hypotez** - –∑–∞ –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å GoogleGenerativeAi
- –°–æ–æ–±—â–µ—Å—Ç–≤–æ **FreeCAD** - –∑–∞ —Ñ–∏–¥–±–µ–∫ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Google** - –∑–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π tier Gemini API

---

**–í–µ—Ä—Å–∏—è:** 0.2.0  
**–î–∞—Ç–∞:** 2025-01-07  
**–ê–≤—Ç–æ—Ä—ã:** hypo69

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

**GitHub:** [github.com/hypo69/AIEngineer](https://github.com/hypo69/AIEngineer)  
**Issues:** [github.com/hypo69/AIEngineer/issues](https://github.com/hypo69/AIEngineer/issues)  
**Telegram:** @aiengineer_freecad