# –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ —Ö—Ä–∞–Ω–µ–Ω–∏–µ API-–∫–ª—é—á–∞ –≤ .env

## üìã –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

–ù–∞—á–∏–Ω–∞—è —Å –≤–µ—Ä—Å–∏–∏ **0.2.0**, AIEngineer –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–∞–π–ª `.env` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è API-–∫–ª—é—á–∞ Google Gemini –≤–º–µ—Å—Ç–æ —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ QSettings.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã:

‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ö–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –∏—Å–∫–ª—é—á–∏—Ç—å –∏–∑ —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π  
‚úÖ **–ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–µ–∂–¥—É –º–∞—à–∏–Ω–∞–º–∏  
‚úÖ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ—Å—Ç—å**: –°–ª–µ–¥—É–µ—Ç –æ–±—â–µ–ø—Ä–∏–Ω—è—Ç—ã–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤  
‚úÖ **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å**: –ö–ª—é—á –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Ä—É—á–Ω—É—é –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ **AI Settings** –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

1. –í–∞—à —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–ª—é—á –∏–∑ QSettings –±—É–¥–µ—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω**
2. –í –¥–∏–∞–ª–æ–≥–µ –ø–æ—è–≤–∏—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ: *"‚ö† Key loaded from QSettings (will be migrated to .env)"*
3. –ù–∞–∂–º–∏—Ç–µ **OK** ‚Äî –∫–ª—é—á —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `.env` —Ñ–∞–π–ª
4. –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ: *"‚úì Key loaded from .env file"*

**–ù–∏–∫–∞–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π –æ—Ç –≤–∞—Å –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!**

---

## üìÅ –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ .env

**Windows:**
```
%APPDATA%\FreeCAD\AIEngineer\.env
```
–ü–æ–ª–Ω—ã–π –ø—É—Ç—å:
```
C:\Users\<YourName>\AppData\Roaming\FreeCAD\AIEngineer\.env
```

**Linux:**
```
~/.FreeCAD/AIEngineer/.env
```

**macOS:**
```
~/.FreeCAD/AIEngineer/.env
```

---

## üìÑ –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ .env

–§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è —Å —Ç–∞–∫–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```env
# AIEngineer Configuration
# Generated: 2025-01-06 14:30:22

GEMINI_API_KEY=your-api-key-here
```

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä—É—á–Ω—É—é

–í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –ª—é–±—ã–º —Ç–µ–∫—Å—Ç–æ–≤—ã–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º –∏ –∏–∑–º–µ–Ω–∏—Ç—å –∫–ª—é—á:

```env
# –û–¥–Ω–æ—Å—Ç—Ä–æ—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
GEMINI_API_KEY=AIzaSyC...

# –ó–Ω–∞—á–µ–Ω–∏—è —Å –ø—Ä–æ–±–µ–ª–∞–º–∏ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–≤—ã—á–∫–∏)
GEMINI_API_KEY="AIza SyC..."

# –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å #
# MODEL_NAME=gemini-1.5-flash
```

**–ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ FreeCAD!**

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –û—Ç–∫—Ä–æ–π—Ç–µ **AI Settings** (‚öôÔ∏è)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—Å—Ç –ø–æ–¥ –ø–æ–ª–µ–º –≤–≤–æ–¥–∞:
   - ‚úì **–ó–µ–ª—ë–Ω—ã–π —Ç–µ–∫—Å—Ç** = –∫–ª—é—á –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ `.env`
   - ‚ö† **–ñ—ë–ª—Ç—ã–π —Ç–µ–∫—Å—Ç** = –∫–ª—é—á –∏–∑ QSettings, –Ω—É–∂–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è
   - ‚úó **–ö—Ä–∞—Å–Ω—ã–π —Ç–µ–∫—Å—Ç** = –∫–ª—é—á –Ω–µ –Ω–∞–π–¥–µ–Ω

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å FreeCAD

–û—Ç–∫—Ä–æ–π—Ç–µ **View ‚Üí Panels ‚Üí Python console** –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```python
from AIEngineer.utils import get_api_key
key = get_api_key()
print(f"API Key: {key[:10]}..." if key else "No key found")
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
[AIEngineer] API key loaded from .env
API Key: AIzaSyC...
```

---

## üõ†Ô∏è –†—É—á–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏)

–ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–ª–∞:

### –®–∞–≥ 1: –ù–∞–π–¥–∏—Ç–µ —Å—Ç–∞—Ä—ã–π –∫–ª—é—á

**Windows (—á–µ—Ä–µ–∑ —Ä–µ–µ—Å—Ç—Ä):**
```
HKEY_CURRENT_USER\Software\FreeCAD\AIEngineer
```
–ö–ª—é—á: `api_key`

**Linux/macOS:**
```bash
grep -r "api_key" ~/.config/FreeCAD/
```

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ .env —Ñ–∞–π–ª

**Windows:**
```batch
cd %APPDATA%\FreeCAD\AIEngineer
echo GEMINI_API_KEY=YOUR_KEY_HERE > .env
```

**Linux/macOS:**
```bash
cd ~/.FreeCAD/AIEngineer
echo "GEMINI_API_KEY=YOUR_KEY_HERE" > .env
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ

–û—Ç–∫—Ä–æ–π—Ç–µ FreeCAD –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É **Ask AI** —Å –ª—é–±—ã–º —Å–≤—è–∑–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º.

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–ù–µ –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ñ–∞–π–ª .env –≤ GitHub/GitLab**
   –î–æ–±–∞–≤—å—Ç–µ –≤ `.gitignore`:
   ```
   .env
   *.env
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (Linux/macOS)**
   ```bash
   chmod 600 ~/.FreeCAD/AIEngineer/.env
   ```

3. **–†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ—Ç–∏—Ä—É–π—Ç–µ –∫–ª—é—á–∏**
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á –Ω–∞ [aistudio.google.com](https://aistudio.google.com/app/apikey)
   - –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Ñ–∞–π–ª
   - –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π –∫–ª—é—á –∏–∑ Google Console

4. **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ**
   –í–∫–ª—é—á–∏—Ç–µ `.env` –≤ —ç–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–µ–∫—Ç–∞ (**Export Project**), –Ω–æ —Ö—Ä–∞–Ω–∏—Ç–µ –∞—Ä—Ö–∏–≤ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ.

---

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

### Q: –ú–æ–∂–Ω–æ –ª–∏ –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å QSettings?

**A:** –î–∞, —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞. –ï—Å–ª–∏ `.env` —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω, –∫–ª—é—á –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω –∏–∑ QSettings. –û–¥–Ω–∞–∫–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.

### Q: –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å .env —Ñ–∞–π–ª?

**A:** AIEngineer –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ QSettings (–µ—Å–ª–∏ –∫–ª—é—á —Ç–∞–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω). –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ **AI Settings** `.env` —Ñ–∞–π–ª –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∑–∞–Ω–æ–≤–æ.

### Q: –ú–æ–∂–Ω–æ –ª–∏ —Ö—Ä–∞–Ω–∏—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–ª—é—á–µ–π?

**A:** –í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∫–ª—é—á. –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –∫–ª—é—á–µ–π –ø–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ –∏—Ö –≤—Ä—É—á–Ω—É—é –≤ `.env` —Ñ–∞–π–ª–µ.

### Q: –ö–∞–∫ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ –¥—Ä—É–≥–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä?

**A:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Export Project** ‚Äî —Ñ–∞–π–ª `.env` –±—É–¥–µ—Ç –≤–∫–ª—é—á—ë–Ω –≤ ZIP-–∞—Ä—Ö–∏–≤. –†–∞—Å–ø–∞–∫—É–π—Ç–µ –∞—Ä—Ö–∏–≤ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –Ω–æ–≤–æ–π –º–∞—à–∏–Ω–µ.

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "API key not found" –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ **AI Settings**
2. –í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á –∑–∞–Ω–æ–≤–æ
3. –ù–∞–∂–º–∏—Ç–µ **OK**

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–ª—é—á –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ .env

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- –ï—Å—Ç—å –ª–∏ –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `%APPDATA%\FreeCAD\AIEngineer\`?
- –ù–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω –ª–∏ —Ñ–∞–π–ª –∞–Ω—Ç–∏–≤–∏—Ä—É—Å–æ–º?
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å FreeCAD (View ‚Üí Report view) –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ—à–∏–±–æ–∫

**–†—É—á–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ:**
```python
# –í –∫–æ–Ω—Å–æ–ª–∏ FreeCAD:
from AIEngineer.utils import save_to_env
save_to_env('GEMINI_API_KEY', 'YOUR_KEY_HERE')
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏ Ask AI –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```python
# –í –∫–æ–Ω—Å–æ–ª–∏ FreeCAD:
from AIEngineer.utils import load_env
env = load_env()
print(env)
```

–ï—Å–ª–∏ —Å–ª–æ–≤–∞—Ä—å –ø—É—Å—Ç–æ–π `{}`, —Ñ–∞–π–ª `.env` –ø–æ–≤—Ä–µ–∂–¥—ë–Ω. –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ:
```python
from AIEngineer.utils import save_to_env
save_to_env('GEMINI_API_KEY', 'YOUR_ACTUAL_KEY')
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Google Gemini API**: [ai.google.dev/docs](https://ai.google.dev/docs)
- **–ü–æ–ª—É—á–µ–Ω–∏–µ API-–∫–ª—é—á–∞**: [aistudio.google.com/app/apikey](https://aistudio.google.com/app/apikey)
- **GitHub Issues**: [github.com/hypo69/AIEngineer/issues](https://github.com/hypo69/AIEngineer/issues)

---

**–í–µ—Ä—Å–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:** 1.0  
**–î–∞—Ç–∞:** 2025-01-07  
**–ü—Ä–∏–º–µ–Ω–∏–º–æ –∫:** AIEngineer v0.2.0+