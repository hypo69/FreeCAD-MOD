# ğŸ“˜ Cours : CrÃ©ation d'add-ons pour FreeCAD
## LeÃ§on 6. IcÃ´nes et prÃ©sentation visuelle

> **Objectif de la leÃ§on** : ajouter des icÃ´nes aux boutons et Ã  l'environnement de travail pour que l'add-on ait un aspect professionnel.

---

## ğŸ–¼ Partie 1. Formats d'icÃ´nes pris en charge

FreeCAD prend en charge :
- **SVG** (recommandÃ©) â€” s'adapte sans perte de qualitÃ©
- **PNG** â€” matriciel, mais facile Ã  utiliser

> ğŸ’¡ Les icÃ´nes doivent Ãªtre **simples**, **contrastÃ©es** et **reconnaissables** mÃªme en petite taille (16Ã—16 ou 24Ã—24 pixels).

---

## ğŸ“ Partie 2. Structure du dossier d'icÃ´nes

CrÃ©ez un sous-dossier Ã  l'intÃ©rieur du dossier de l'add-on :

```
BoxBuilderAddon/
â”œâ”€â”€ Resources/
â”‚   â””â”€â”€ icons/
â”‚       â”œâ”€â”€ box_builder.svg   â† icÃ´ne de l'environnement de travail
â”‚       â””â”€â”€ create_box.svg    â† icÃ´ne de la commande
â”œâ”€â”€ InitGui.py
â””â”€â”€ box_builder_workbench.py
```

> ğŸ’¡ Le chemin `Resources/icons/` est une **convention standard** dans l'Ã©cosystÃ¨me FreeCAD.

---

## ğŸ¨ Partie 3. OÃ¹ trouver des icÃ´nes ?

### Option 1 : Utiliser les icÃ´nes intÃ©grÃ©es de FreeCAD
FreeCAD est livrÃ© avec des centaines d'icÃ´nes. Par exemple :
- `:/icons/Part_Box.svg`
- `:/icons/Document-new.svg`

Mais il est prÃ©fÃ©rable de crÃ©er les vÃ´tres â€” pour ne pas dÃ©pendre des chemins internes.

### OpciÃ³n 2 : CrÃ©er une icÃ´ne simple manuellement

#### Exemple : `create_box.svg`
```xml
<!-- create_box.svg -->
<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 64 64">
  <rect x="10" y="10" width="44" height="44" fill="none" stroke="black" stroke-width="4"/>
  <line x1="10" y1="10" x2="20" y2="0" stroke="black" stroke-width="4"/>
  <line x1="54" y1="10" x2="64" y2="0" stroke="black" stroke-width="4"/>
  <line x1="54" y1="54" x2="64" y2="44" stroke="black" stroke-width="4"/>
  <line x1="20" y1="0" x2="64" y2="0" stroke="black" stroke-width="4"/>
  <line x1="64" y1="0" x2="64" y2="44" stroke="black" stroke-width="4"/>
</svg>
```

Enregistrez ce code dans le fichier `create_box.svg` Ã  l'intÃ©rieur de `Resources/icons/`.

> ğŸ’¡ Vous pouvez ouvrir le SVG dans un navigateur pour voir le rÃ©sultat.

---

## ğŸ›  Partie 4. Connexion des icÃ´nes dans le code

### Ã‰tape 1. Mettre Ã  jour `box_builder_workbench.py`

Ajoutez au dÃ©but du fichier (aprÃ¨s les importations) :

```python
import os
```

Ensuite, trouvez la classe `BoxBuilderCommand` et mettez Ã  jour la mÃ©thode `GetResources` :

```python
class BoxBuilderCommand:
    def GetResources(self):
        # Chemin vers l'icÃ´ne
        icon_path = os.path.join(
            os.path.dirname(__file__),
            "Resources", "icons", "create_box.svg"
        )
        return {
            "MenuText": "Box Builder",
            "ToolTip": "Create a box with custom dimensions",
            "Pixmap": icon_path  # â† connectons l'icÃ´ne
        }
    # ... le reste sans changement
```

### Ã‰tape 2. Ajouter une icÃ´ne pour l'environnement de travail

Dans la classe `BoxBuilderWorkbench`, ajoutez la propriÃ©tÃ© `Icon` :

```python
class BoxBuilderWorkbench(FreeCADGui.Workbench):
    MenuText = "Box Builder"
    ToolTip = "Create custom boxes with GUI"
    
    # Chemin vers l'icÃ´ne de l'environnement de travail
    def __init__(self):
        self.Icon = os.path.join(
            os.path.dirname(__file__),
            "Resources", "icons", "box_builder.svg"
        )

    def Initialize(self):
        self.list = ["BoxBuilderCommand"]
        self.appendToolbar("Box Tools", self.list)
        self.appendMenu("Box Builder", self.list)

    def GetClassName(self):
        return "Gui::PythonWorkbench"
```

> âš ï¸ Si vous n'avez pas crÃ©Ã© `box_builder.svg` â€” copiez simplement `create_box.svg` et renommez-le.

---

## ğŸ§ª Ã‰tape 5. VÃ©rification du fonctionnement

1. Assurez-vous que la structure des dossiers est correcte :
   ```
   BoxBuilderAddon/Resources/icons/create_box.svg
   BoxBuilderAddon/Resources/icons/box_builder.svg
   ```
2. RedÃ©marrez FreeCAD
3. SÃ©lectionnez l'environnement de travail **Box Builder**

âœ… Vous devriez voir :
- Une icÃ´ne Ã  cÃ´tÃ© du nom de l'environnement de travail (dans la liste)
- Une icÃ´ne sur le bouton de la barre d'outils

---

## ğŸ’¡ Conseils pour les icÃ´nes

- Utilisez du **noir sur fond transparent** â€” FreeCAD l'adaptera automatiquement au thÃ¨me (clair/sombre)
- La taille du SVG n'est pas importante â€” l'essentiel est qu'il soit **vectoriel**
- Pour le PNG, utilisez un **fond transparent** et une taille de **64Ã—64** ou **128Ã—128**
- N'utilisez pas de couleurs â€” les icÃ´nes dans FreeCAD sont gÃ©nÃ©ralement monochromes

---

## ğŸ§ª Exercice pratique

1. CrÃ©ez l'icÃ´ne `box_builder.svg` (vous pouvez copier `create_box.svg`)
2. Trouvez sur internet une **icÃ´ne de boÃ®te SVG gratuite** (par exemple, sur [Flaticon](https://flaticon.com) ou [Material Icons](https://fonts.google.com/icons)) et adaptez-la
3. Essayez d'utiliser le **PNG** au lieu du SVG â€” assurez-vous que le fond est transparent

---

## ğŸŒ OÃ¹ trouver des icÃ´nes prÃªtes Ã  l'emploi ?

- [Material Design Icons](https://fonts.google.com/icons) â†’ tÃ©lÃ©charger en SVG
- [Feather Icons](https://feathericons.com/) â†’ simples et Ã©purÃ©es
- [Sources FreeCAD](https://github.com/FreeCAD/FreeCAD/tree/main/src/Gui/Icons) â†’ des centaines d'icÃ´nes au format `.svg`

---

## â–¶ï¸ Et ensuite ?

Dans la **LeÃ§on 7**, nous allons :
- Apprendre Ã  **publier un add-on** via le gestionnaire d'add-ons officiel
- CrÃ©er un fichier `package.xml`
- PrÃ©parer un dÃ©pÃ´t sur GitHub
- Faire en sorte que d'autres utilisateurs puissent facilement installer votre add-on
